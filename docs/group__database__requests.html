<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynatrace OneAgent SDK for C/C++: Database Request Tracers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dynatrace OneAgent SDK for C/C++
   &#160;<span id="projectnumber">1.6.1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Database Request Tracers</div>  </div>
</div><!--header-->
<div class="contents">

<p>Trace SQL-based database requests.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaecbc2adc821bb4d7e516e9455646fdd5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="onesdk__common_8h.html#a0eec38a5a2417de076a3bcb1055b4a88">onesdk_databaseinfo_handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database__requests.html#gaecbc2adc821bb4d7e516e9455646fdd5">onesdk_databaseinfo_create</a> (<a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> name, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> vendor, <a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a> channel_type, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> channel_endpoint)</td></tr>
<tr class="memdesc:gaecbc2adc821bb4d7e516e9455646fdd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a database info object.  <a href="#gaecbc2adc821bb4d7e516e9455646fdd5">More...</a><br /></td></tr>
<tr class="separator:gaecbc2adc821bb4d7e516e9455646fdd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaae7440a63c743df28c50ef19eaa9dd03"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database__requests.html#gaae7440a63c743df28c50ef19eaa9dd03">onesdk_databaseinfo_delete</a> (<a class="el" href="onesdk__common_8h.html#a0eec38a5a2417de076a3bcb1055b4a88">onesdk_databaseinfo_handle_t</a> databaseinfo_handle)</td></tr>
<tr class="memdesc:gaae7440a63c743df28c50ef19eaa9dd03"><td class="mdescLeft">&#160;</td><td class="mdescRight">Releases a database info object.  <a href="#gaae7440a63c743df28c50ef19eaa9dd03">More...</a><br /></td></tr>
<tr class="separator:gaae7440a63c743df28c50ef19eaa9dd03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaa82bb7e085b9777411fee676388cf72a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database__requests.html#gaa82bb7e085b9777411fee676388cf72a">onesdk_databaserequesttracer_create_sql</a> (<a class="el" href="onesdk__common_8h.html#a0eec38a5a2417de076a3bcb1055b4a88">onesdk_databaseinfo_handle_t</a> databaseinfo_handle, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> statement)</td></tr>
<tr class="memdesc:gaa82bb7e085b9777411fee676388cf72a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tracer for tracing SQL database requests.  <a href="#gaa82bb7e085b9777411fee676388cf72a">More...</a><br /></td></tr>
<tr class="separator:gaa82bb7e085b9777411fee676388cf72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4ad6b4b83958be4761e4eb2e914a0748"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database__requests.html#ga4ad6b4b83958be4761e4eb2e914a0748">onesdk_databaserequesttracer_set_returned_row_count</a> (<a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> tracer_handle, <a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a> returned_row_count)</td></tr>
<tr class="memdesc:ga4ad6b4b83958be4761e4eb2e914a0748"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the number of returned rows for a database request.  <a href="#ga4ad6b4b83958be4761e4eb2e914a0748">More...</a><br /></td></tr>
<tr class="separator:ga4ad6b4b83958be4761e4eb2e914a0748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c2610329a2d5fe22d26512df386fac5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__database__requests.html#ga9c2610329a2d5fe22d26512df386fac5">onesdk_databaserequesttracer_set_round_trip_count</a> (<a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> tracer_handle, <a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a> round_trip_count)</td></tr>
<tr class="memdesc:ga9c2610329a2d5fe22d26512df386fac5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the number of round trips for a database request.  <a href="#ga9c2610329a2d5fe22d26512df386fac5">More...</a><br /></td></tr>
<tr class="separator:ga9c2610329a2d5fe22d26512df386fac5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Trace SQL-based database requests. </p>
<p>Database request tracers are used to capture information about database requests. They're not taggable.</p>
<p>To create a database request tracer, an application must first create a database info object which describes the database that the application uses - see <a class="el" href="group__database__requests.html#gaecbc2adc821bb4d7e516e9455646fdd5">onesdk_databaseinfo_create</a>.</p>
<dl class="section note"><dt>Note</dt><dd>Note that SQL database traces are only created if they occur within some other SDK trace (e.g. incoming remote call).</dd></dl>
<p>For further information, see the high level SDK documentation at <a href="https://github.com/Dynatrace/OneAgent-SDK/#database">https://github.com/Dynatrace/OneAgent-SDK/#database</a> </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaecbc2adc821bb4d7e516e9455646fdd5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecbc2adc821bb4d7e516e9455646fdd5">&#9670;&nbsp;</a></span>onesdk_databaseinfo_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="onesdk__common_8h.html#a0eec38a5a2417de076a3bcb1055b4a88">onesdk_databaseinfo_handle_t</a> onesdk_databaseinfo_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>vendor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a>&#160;</td>
          <td class="paramname"><em>channel_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>channel_endpoint</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a database info object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the database. </td></tr>
    <tr><td class="paramname">vendor</td><td>The type of the database (e.g. "sqlite", "MySQL", "Oracle", "DB2" - see <a class="el" href="onesdk__common_8h.html#database_vendor_strings">database_vendor_strings</a>). </td></tr>
    <tr><td class="paramname">channel_type</td><td>The type of the channel used to communicate with the database. </td></tr>
    <tr><td class="paramname">channel_endpoint</td><td>[optional] The endpoint of the channel used to communicate with the database.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle for the newly created database info object or <a class="el" href="onesdk__common_8h.html#a2d44f57c14d3c5b852376e68d2c2fb37">ONESDK_INVALID_HANDLE</a>.</dd></dl>
<p>This function creates a database info object which describes a database instance and is required for tracing database requests (see <a class="el" href="group__database__requests.html#gaa82bb7e085b9777411fee676388cf72a">onesdk_databaserequesttracer_create_sql</a>).</p>
<p>For information about <code>channel_type</code> and <code>channel_endpoint</code> see <a class="el" href="group__channels.html">Channel Types and Endpoints</a>. </p>

</div>
</div>
<a id="gaae7440a63c743df28c50ef19eaa9dd03"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaae7440a63c743df28c50ef19eaa9dd03">&#9670;&nbsp;</a></span>onesdk_databaseinfo_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onesdk_databaseinfo_delete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#a0eec38a5a2417de076a3bcb1055b4a88">onesdk_databaseinfo_handle_t</a>&#160;</td>
          <td class="paramname"><em>databaseinfo_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Releases a database info object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseinfo_handle</td><td>A valid database info handle.</td></tr>
  </table>
  </dd>
</dl>
<p>This function releases the specified database info object. Allocated resources are freed and the handle is invalidated.</p>
<p>An application should call <a class="el" href="group__database__requests.html#gaae7440a63c743df28c50ef19eaa9dd03">onesdk_databaseinfo_delete</a> exactly once for each database info object that it has created.</p>
<dl class="section note"><dt>Note</dt><dd>Calling <a class="el" href="group__database__requests.html#gaae7440a63c743df28c50ef19eaa9dd03">onesdk_databaseinfo_delete</a> with a handle to a database info object which is still referenced by existing tracers is supported. In that case the lifetime of the database info object is extended as necessary. The handle will always become invalid immediately though. </dd></dl>

</div>
</div>
<a id="gaa82bb7e085b9777411fee676388cf72a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaa82bb7e085b9777411fee676388cf72a">&#9670;&nbsp;</a></span>onesdk_databaserequesttracer_create_sql()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> onesdk_databaserequesttracer_create_sql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#a0eec38a5a2417de076a3bcb1055b4a88">onesdk_databaseinfo_handle_t</a>&#160;</td>
          <td class="paramname"><em>databaseinfo_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>statement</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a tracer for tracing SQL database requests. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">databaseinfo_handle</td><td>A valid database info handle. </td></tr>
    <tr><td class="paramname">statement</td><td>The database statement (SQL).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle for the newly created database request tracer or <a class="el" href="onesdk__common_8h.html#a2d44f57c14d3c5b852376e68d2c2fb37">ONESDK_INVALID_HANDLE</a>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__database__requests.html#gaecbc2adc821bb4d7e516e9455646fdd5">onesdk_databaseinfo_create</a> </dd></dl>

</div>
</div>
<a id="ga4ad6b4b83958be4761e4eb2e914a0748"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga4ad6b4b83958be4761e4eb2e914a0748">&#9670;&nbsp;</a></span>onesdk_databaserequesttracer_set_returned_row_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onesdk_databaserequesttracer_set_returned_row_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td>
          <td class="paramname"><em>tracer_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a>&#160;</td>
          <td class="paramname"><em>returned_row_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the number of returned rows for a database request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracer_handle</td><td>A valid database request tracer handle. </td></tr>
    <tr><td class="paramname">returned_row_count</td><td>The number of returned rows. Must be &gt;= 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>This function was added in version 1.1.0. </dd></dl>

</div>
</div>
<a id="ga9c2610329a2d5fe22d26512df386fac5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9c2610329a2d5fe22d26512df386fac5">&#9670;&nbsp;</a></span>onesdk_databaserequesttracer_set_round_trip_count()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onesdk_databaserequesttracer_set_round_trip_count </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td>
          <td class="paramname"><em>tracer_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a>&#160;</td>
          <td class="paramname"><em>round_trip_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the number of round trips for a database request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracer_handle</td><td>A valid database request tracer handle. </td></tr>
    <tr><td class="paramname">round_trip_count</td><td>The number of round trips between the client and the database. Must be &gt;= 0.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section since"><dt>Since</dt><dd>This function was added in version 1.1.0. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
