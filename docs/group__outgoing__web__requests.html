<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Dynatrace OneAgent SDK for C/C++: Outgoing Web Request Tracers</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Dynatrace OneAgent SDK for C/C++
   &#160;<span id="projectnumber">1.6.1.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Outgoing Web Request Tracers</div>  </div>
</div><!--header-->
<div class="contents">

<p>Trace the client side of web requests.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga20dc71536dec63bd08623989ea362bcc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__outgoing__web__requests.html#ga20dc71536dec63bd08623989ea362bcc">ONESDK_DYNATRACE_HTTP_HEADER_NAME</a>&#160;&#160;&#160;&quot;X-dynaTrace&quot;</td></tr>
<tr class="memdesc:ga20dc71536dec63bd08623989ea362bcc"><td class="mdescLeft">&#160;</td><td class="mdescRight">HTTP header name for the Dynatrace string tag.  <a href="#ga20dc71536dec63bd08623989ea362bcc">More...</a><br /></td></tr>
<tr class="separator:ga20dc71536dec63bd08623989ea362bcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga5e69bb9338963c0566880d1501471b0b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__outgoing__web__requests.html#ga5e69bb9338963c0566880d1501471b0b">onesdk_outgoingwebrequesttracer_create</a> (<a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> url, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> method)</td></tr>
<tr class="memdesc:ga5e69bb9338963c0566880d1501471b0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a tracer for tracing an outgoing web request.  <a href="#ga5e69bb9338963c0566880d1501471b0b">More...</a><br /></td></tr>
<tr class="separator:ga5e69bb9338963c0566880d1501471b0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac47caf964b8b945cf8c3b89b98e90c7c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__outgoing__web__requests.html#gac47caf964b8b945cf8c3b89b98e90c7c">onesdk_outgoingwebrequesttracer_add_request_header</a> (<a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> tracer_handle, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> name, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> value)</td></tr>
<tr class="memdesc:gac47caf964b8b945cf8c3b89b98e90c7c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an HTTP request header of an outgoing web request.  <a href="#gac47caf964b8b945cf8c3b89b98e90c7c">More...</a><br /></td></tr>
<tr class="separator:gac47caf964b8b945cf8c3b89b98e90c7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5156995f4fe8f7b5212d533aec907aa1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__outgoing__web__requests.html#ga5156995f4fe8f7b5212d533aec907aa1">onesdk_outgoingwebrequesttracer_add_response_header</a> (<a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> tracer_handle, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> name, <a class="el" href="structonesdk__string__t.html">onesdk_string_t</a> value)</td></tr>
<tr class="memdesc:ga5156995f4fe8f7b5212d533aec907aa1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adds an HTTP response header for an outgoing web request.  <a href="#ga5156995f4fe8f7b5212d533aec907aa1">More...</a><br /></td></tr>
<tr class="separator:ga5156995f4fe8f7b5212d533aec907aa1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab28e8ae0962932d082ed8046fef7d1a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__outgoing__web__requests.html#gab28e8ae0962932d082ed8046fef7d1a0">onesdk_outgoingwebrequesttracer_set_status_code</a> (<a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> tracer_handle, <a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a> status_code)</td></tr>
<tr class="memdesc:gab28e8ae0962932d082ed8046fef7d1a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the HTTP status code for an outgoing web request.  <a href="#gab28e8ae0962932d082ed8046fef7d1a0">More...</a><br /></td></tr>
<tr class="separator:gab28e8ae0962932d082ed8046fef7d1a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Trace the client side of web requests. </p>
<p>Outgoing web request tracers are used to capture information about HTTP requests that the application sends.</p>
<p>To create an outgoing web request tracer, an application can simply call <a class="el" href="group__outgoing__web__requests.html#ga5e69bb9338963c0566880d1501471b0b">onesdk_outgoingwebrequesttracer_create</a>. To enable continuing the trace on the server/service side, the application must then retrieve the string tag from the tracer and send it along with the request in the HTTP request header <code>"X-dynaTrace"</code>.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="group__tracers.html#gad1a200fc7591163158458bb9938f4b29">onesdk_tracer_get_outgoing_dynatrace_string_tag</a> </dd>
<dd>
<a class="el" href="group__outgoing__web__requests.html#ga20dc71536dec63bd08623989ea362bcc">ONESDK_DYNATRACE_HTTP_HEADER_NAME</a> </dd>
<dd>
<a class="el" href="group__incoming__web__requests.html">Incoming Web Request Tracers</a></dd></dl>
<p>For further information, see the high level SDK documentation at <a href="https://github.com/Dynatrace/OneAgent-SDK/#webrequests">https://github.com/Dynatrace/OneAgent-SDK/#webrequests</a></p>
<dl class="section since"><dt>Since</dt><dd>Outgoing web request tracers were added in version 1.2.0. </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="ga20dc71536dec63bd08623989ea362bcc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga20dc71536dec63bd08623989ea362bcc">&#9670;&nbsp;</a></span>ONESDK_DYNATRACE_HTTP_HEADER_NAME</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ONESDK_DYNATRACE_HTTP_HEADER_NAME&#160;&#160;&#160;&quot;X-dynaTrace&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>HTTP header name for the Dynatrace string tag. </p>
<p>Sending an <code>"X-dynaTrace"</code> request header with a Dynatrace string tag along with an HTTP request enables any Dynatrace OneAgent on the server side to continue tracing (connect the server side trace to the traced operation from which the tag was obtained). </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="gac47caf964b8b945cf8c3b89b98e90c7c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gac47caf964b8b945cf8c3b89b98e90c7c">&#9670;&nbsp;</a></span>onesdk_outgoingwebrequesttracer_add_request_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void onesdk_outgoingwebrequesttracer_add_request_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td>
          <td class="paramname"><em>tracer_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds an HTTP request header of an outgoing web request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracer_handle</td><td>A valid outgoing web request tracer handle. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the HTTP request header. </td></tr>
    <tr><td class="paramname">value</td><td>[optional] The value of the HTTP request header.</td></tr>
  </table>
  </dd>
</dl>
<p>To allow the agent to determine various bits of useful information, an application should add all HTTP request headers.</p>
<dl class="section note"><dt>Note</dt><dd>The native SDK agent will currently capture all provided headers. </dd>
<dd>
If an HTTP request contains multiple header lines with the same header name, an application should call this function once per line. Alternatively, depending on the header, the application can call this function once per header name, with an appropriately concatenated header value. </dd>
<dd>
This function can not be used after the tracer was started.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function was added in version 1.2.0. </dd></dl>

</div>
</div>
<a id="ga5156995f4fe8f7b5212d533aec907aa1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5156995f4fe8f7b5212d533aec907aa1">&#9670;&nbsp;</a></span>onesdk_outgoingwebrequesttracer_add_response_header()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void onesdk_outgoingwebrequesttracer_add_response_header </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td>
          <td class="paramname"><em>tracer_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Adds an HTTP response header for an outgoing web request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracer_handle</td><td>A valid outgoing web request tracer handle. </td></tr>
    <tr><td class="paramname">name</td><td>The name of the HTTP response header. </td></tr>
    <tr><td class="paramname">value</td><td>[optional] The value of the HTTP response header.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The native SDK agent will currently capture all provided headers. </dd>
<dd>
If the HTTP response contains multiple header lines with the same header name, an application should call this function once per line. Alternatively, depending on the header, the application can call this function once per header name, with an appropriately concatenated header value.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function was added in version 1.2.0. </dd></dl>

</div>
</div>
<a id="ga5e69bb9338963c0566880d1501471b0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga5e69bb9338963c0566880d1501471b0b">&#9670;&nbsp;</a></span>onesdk_outgoingwebrequesttracer_create()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a> onesdk_outgoingwebrequesttracer_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>url</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structonesdk__string__t.html">onesdk_string_t</a>&#160;</td>
          <td class="paramname"><em>method</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a tracer for tracing an outgoing web request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">url</td><td>The requested URL. Will be parsed into <code>scheme</code>, <code>host</code>/<code>port</code>, <code>path</code> and <code>query</code>. </td></tr>
    <tr><td class="paramname">method</td><td>The HTTP method of the request.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A handle for the newly created outgoing web request tracer or <a class="el" href="onesdk__common_8h.html#a2d44f57c14d3c5b852376e68d2c2fb37">ONESDK_INVALID_HANDLE</a>.</dd></dl>
<dl class="section note"><dt>Note</dt><dd><code>url</code> should be a full, absolute URL, i.e. containing the <code>scheme</code>, <code>host</code>, <code>port</code> (unless default), <code>path</code> and <code>query</code>. Any <code>fragment</code> part, if present, will be ignored (fragments are only processed locally and not part of the request URL). </dd>
<dd>
If <code>url</code> contains a host name it will be resolved by the agent (asynchronously) after <a class="el" href="group__tracers.html#ga750068677c6732cf423d4cfdd2e2edf0">onesdk_tracer_start</a> was called.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function was added in version 1.2.0. </dd></dl>

</div>
</div>
<a id="gab28e8ae0962932d082ed8046fef7d1a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab28e8ae0962932d082ed8046fef7d1a0">&#9670;&nbsp;</a></span>onesdk_outgoingwebrequesttracer_set_status_code()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void onesdk_outgoingwebrequesttracer_set_status_code </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="onesdk__common_8h.html#afd307ae54a60c333f87bad4e4cb2cbf3">onesdk_tracer_handle_t</a>&#160;</td>
          <td class="paramname"><em>tracer_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="onesdk__config_8h.html#acff8bf967021eaaaeefc001d54e565b0">onesdk_int32_t</a>&#160;</td>
          <td class="paramname"><em>status_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the HTTP status code for an outgoing web request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracer_handle</td><td>A valid outgoing web request tracer handle. </td></tr>
    <tr><td class="paramname">status_code</td><td>The HTTP status code of the response that was received.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>If an application fails to receive or decode the reply, it should <em>not</em> call this function. Instead the application can use <a class="el" href="group__tracers.html#gacffee0c9c4b78bdbbe32b66eb2f32666">onesdk_tracer_error</a> to signal that the request was not completed successfully.</dd></dl>
<dl class="section since"><dt>Since</dt><dd>This function was added in version 1.2.0. </dd></dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
